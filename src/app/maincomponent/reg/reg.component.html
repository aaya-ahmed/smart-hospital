<div class="row">
    <button (click)="close()">
        <i class="fa-solid fa-close"></i>
      </button>
    <div class="col-lg-4 col-md-6 col-8 formdiv">
        <h2>Sign Up</h2>
        <form class="form "  [formGroup]="signup">
        <div class="form-group">
            <div>
                <input class="form-control" placeholder="First Name" type="text" name="firstName" required id="firstName" formControlName="firstName" required
                [ngClass]="((userfirstname.touched&&userfirstname.invalid)||(submitted&& userfirstname.hasError('required')))? 'is-invalid' : '' || 
                userfirstname.hasError('pattern')? 'is-invalid' : '' ||
                userfirstname.hasError('minlength')? 'is-invalid' : '' ||
                userfirstname.hasError('maxlength')? 'is-invalid' : ''"/>
            </div>
            <div class="invalid-feedback">
                {{((userfirstname.touched&&userfirstname.invalid)||(submitted&& userfirstname.hasError('required')))?"This field is reqired":''}}
                {{userfirstname.hasError('minlength')?"Minimum Name length is 3":''}}
                {{userfirstname.hasError('maxlength')?"Maxiumim Name length is 25":''}}
                {{userfirstname.hasError('pattern')?" Only letters are allowed":''}}
            </div>
        </div>
        <div class="form-group">
            <div>
                <input class="form-control" type="text" placeholder="Last Name" name="patientlname" id="patientlname" formControlName="lastName" 
                [ngClass]="((userlastname.touched&&userlastname.invalid)||(submitted&& userlastname.hasError('required')))
                ? 'is-invalid' : '' || userlastname.hasError('pattern')
                ? 'is-invalid' : '' || userlastname.hasError('minlength') 
                ? 'is-invalid' : '' || userlastname.hasError('maxlength') 
                ? 'is-invalid' : '' " />
            </div>
            <div class="invalid-feedback">
                {{((userlastname.touched&&userlastname.invalid)||(submitted&& userlastname.hasError('required')))?"This field is reqired":''}}
                {{(userlastname.hasError('minlength'))?"Minimum Name length is 3":''}}
                {{(userlastname.hasError('maxlength'))?"Maxiumim Name length is 25":''}}
                {{(userlastname.hasError('pattern'))?" Only letters are allowed":''}}
            </div>
        </div>
        <div class="form-group">
            <div>
                <input class="form-control" placeholder="User Name" type="text" name="username" id="username" formControlName="userName" 
                [ngClass]="((username.touched&&username.invalid)||(submitted&& username.hasError('required')))
                ? 'is-invalid' : '' || username.hasError('pattern')
                ? 'is-invalid' : '' || username.hasError('minlength') 
                ? 'is-invalid' : '' " />
            </div>
            <div class="invalid-feedback">
                {{((username.touched&&username.invalid)||(submitted&& username.hasError('required')))?"This field is reqired":''}}
                {{username.hasError('pattern')?" Only letters and/or numbers are allowed":''}}
                {{username.hasError('minlength')?"Minumuim length is 5 number/letter ":''}}
            </div>
        </div>
        <div class="form-group">
            <div>
                <input class="form-control" type="password" placeholder="Password" aria-describedby="password-hint" name="password" formControlName="password" id="password" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required/>
            </div>
            <div class="invalid-feedback">
                {{((userpass?.touched&&userpass?.invalid) || (submitted && userpass.errors?.['required']))?"Please Enter your password":''}} 
                {{((userpass?.touched&&userpass?.invalid) || (submitted && userpass.errors?.['minlength'] ))?"min length is 8 characters":''}}
            </div>
        </div>
        <div class="form-group">
            <div>
                <input class="form-control" placeholder="age" type="text" name="age" id="age" formControlName="age" 
                [ngClass]="((userage.touched&&userage.invalid) ||(submitted&& userage.hasError('required')))
                ? 'is-invalid' : '' || userage.hasError('pattern')
                ? 'is-invalid' : '' || userage.hasError('min') 
                ? 'is-invalid' : '' || userage.hasError('max') 
                ? 'is-invalid' : '' " />
            </div>
            <div class="invalid-feedback">
                {{((userage.touched&&userage.invalid) ||(submitted&& userage.hasError('required')))?"This field is reqired":''}}
                {{userage.hasError('min')?" Can only be between 1 and 150 year ":''}}
                {{userage.hasError('max')?"Can only be between 1 and 120 year":''}}
                {{userage.hasError('pattern')?"Can only accept numbers between 1 and 120 year":''}}
            </div>   
        </div>
        <div class="form-group">
            <div>
                <input type="text" id="nationalId" name="nationalId" (change)="validationntionalid($event)" class="form-control" placeholder="National Id" formControlName="nationalId"
                [ngClass]="(
                    (usernationalid.touched &&usernationalid.invalid)||( submitted&& usernationalid.hasError('required')))? 'is-invalid' : '' ||
                    (usernationalid.hasError('pattern'))? 'is-invalid' : '' ||
                    (usernationalid.hasError('minlength'))? 'is-invalid' : '' ||
                    (usernationalid.hasError('maxlength'))? 'is-invalid' : '' "/>
            </div>
            <div class="invalid-feedback">
                {{((usernationalid.touched &&usernationalid.invalid)||( submitted&& usernationalid.hasError('required')))?"This field is reqired":''}}
                {{usernationalid.hasError('minlength')?" Must Contain 14 number ":''}}
                {{usernationalid.hasError('maxlength')?"Must Contain 14 number":''}}
                {{(usernationalid.hasError('pattern')||usernationalid.hasError('not-valid'))?" Invalid National ID":''}}
            </div>
        </div>
        <div class="form-group">
            <div>
                <input class="form-control" placeholder="Email" type="email" name="email" id="email" formControlName="mail" 
                [ngClass]=" usermail.hasError('email')
                ? 'is-invalid' : '' " />
            </div>
            <div class="invalid-feedback">
                {{usermail.hasError('email')?"Invalid Email":''}}
            </div>
        </div>
        <div class="form-group">
            <div>
                <input class="form-control" placeholder="Phone Number" type="tel" name="phone" id="phone" formControlName="phoneNumber" 
                    [ngClass]="((userphone.touched&& userphone.invalid) ||(submitted&& userphone.hasError('required')))
                    ? 'is-invalid' : '' || userphone.hasError('pattern')
                    ? 'is-invalid' : '' || userphone.hasError('minlength') 
                    ? 'is-invalid' : '' || userphone.hasError('maxlength') 
                    ? 'is-invalid' : '' " />
            </div>
            <div class="invalid-feedback">
                {{((userphone.touched&& userphone.invalid) ||(submitted&& userphone.hasError('required')))?"This field is reqired":''}}
                {{userphone.hasError('minlength')?"Must contain  11 number":''}}
                {{userphone.hasError('maxlength')?"Must contain  11 number":''}}
                {{userphone.hasError('pattern')?"(Must contain 11 number starts with '01'":''}}
            </div>
        </div>
        <div class="form-group">
            <div>
                <select id="gender" name="gender" class="form-select" formControlName="gender" 
                    [ngClass]="((usergender.touched&&usergender.invalid) || (submitted&& usergender.hasError('required')))
                    ? 'is-invalid' : '' " >
                    <option disabled selected value="">-- select gender --</option>
                    <option vlaue="female">Female</option>
                    <option value="male">Male</option>
                </select>
            </div>
            <div class="invalid-feedback">
                {{((usergender.touched&&usergender.invalid) || (submitted&& usergender.hasError('required')))?"This field is reqired":''}}
            </div>
        </div>
        <div class="form-group">
            <div>
                <select class="form-select" name="bloodtype" id="bloodtype" formControlName="bloodType">
                    <option disabled selected value="">-- Select Your Blood Type--</option>
                    <option value="A+">A+</option>
                    <option value="A-">A-</option>
                    <option value="B+">B+</option>
                    <option value="B-">B-</option>
                    <option value="AB+">AB+</option>
                    <option value="AB-">AB-</option>
                    <option value="O+">O+</option>
                    <option value="O-">O-</option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <div>
                <input class="form-control" type="text" placeholder="Address" name="address" id="address" formControlName="address" />
            </div>
        </div>
        <div class="form-group">
            <div>
                <input class="form-control" placeholder="image" (change)="uploadfile($event)" type="file" name="image" id="image" formControlName="image" />
            </div>
        </div>
        <div class="form-group form-footer">
            <button  [disabled]="submitted&&signup.valid" class="btn" (click)="submit()">Register</button>
            <span class="error-message" *ngIf="message!=''">
                {{message}}
            </span>
            <img src="assets/Spinner.svg" *ngIf="submitted&&signup.valid"/>
            <span>
                Already have an account?<button (click)="gotologin()">log in</button>
            </span>
        </div>
        </form>
    </div>
</div>