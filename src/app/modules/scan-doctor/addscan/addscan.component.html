<div class="container w-100">
    <div class="row align-items-start justify-content-center">
        <div class="col-12 py-2 px-0">
            <header>
                <h3>
                   Scan
                </h3>
            </header>
            <form [formGroup]="scanform" (ngSubmit)="submit()" >
                <div class="row py-2 justify-content-between">
                    <div class="col-md-5 col-12">
                        <label class="form-label">Doctor Name</label>
                        <input type="text" class="form-control" formControlName="doctorName" />
                        <div class="invalid-feedback" >
                            {{(scanform.controls['doctorName'].errors?.['required']&&scanform.controls['doctorName'].touched)?"this is required":''}}
                        </div>
                    </div>
                    <div class="col-md-5 col-12">
                        <label class="form-label">Patient Name</label>
                        <input class="form-control" type="text" formControlName="patientName"  />
                        <div class="invalid-feedback">
                            {{(scanform.controls['patientName'].errors?.['required']&&scanform.controls['patientName'].touched)?"this is required":''}}
                        </div>
                    </div>
                    <div class="col-md-5 col-12">
                        <label class="form-label">Scan Name</label>
                        <input type="text" class="form-control" formControlName="scanName">
                        <div class="invalid-feedback">
                            {{(scanform.controls['scanName'].errors?.['required']&&scanform.controls['scanName'].touched)?"this is required":''}}
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="sec-image row" id="sec-image" *ngFor="let image of imagelist ; let j=index">
                            <button type="button" class="xmark_btn" (click)="cancelimage(j)"><i class="fa-solid fa-xmark"></i></button>
                            <img  [src]="image.content" alt="" id="rayimage">
                        </div> 
                        <div  class="invalid-feedback">
                            {{!imageflag&&submitted?"please set image scan":''}}
                        </div>
                        <div class="sec-image row">
                            <label id="upload" for="file">Upload Ray</label>
                            <input type="file" id="file" name="images" accept="image/*" (change)="uploadfile($event)" multiple required/>
                        </div>
                    </div>
                    <div class="col-12">
                        <label class="form-label"><strong>Report</strong></label>
                        <textarea id="report" formControlName="report"></textarea>
                        <div class="invalid-feedback">
                            {{(scanform.controls['report'].errors?.['required']&&scanform.controls['report'].touched)?"this is required":''}}
                        </div>
                    </div>
                </div>
                <div class="row justify-content-start">
                    <div class="col-2" *ngIf="request.id==-1">
                        <button class="form-control btn"> Print </button>
                    </div>
                    <div class="col-2" *ngIf="request.id!=-1" >
                        <button [disabled]="submitted" class="form-control btn"> Add </button>
                    </div>
                    <div class="col-2" *ngIf="request.id!=-1" >
                        <button [disabled]="submitted" class="form-control btn bg-danger" (click)="cancel()"> Cancel </button>
                    </div>
                    <div class="col-2" *ngIf="submitted">
                        <img src="../../../../assets/Spinner.svg"/>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
    